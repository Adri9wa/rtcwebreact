(this.webpackJsonprtcwebreact=this.webpackJsonprtcwebreact||[]).push([[0],{12:function(e,t,l){},13:function(e,t,l){},15:function(e,t,l){"use strict";l.r(t);var n,c,o=l(1),a=l.n(o),r=l(3),i=l.n(r),s=(l(12),l(4)),d=l(5),u=l(7),h=l(6),f=(l(13),l(0)),y=[];function w(){return Object(f.jsx)("div",{className:"WorkTable",children:Object(f.jsx)("canvas",{id:"map",height:"200",width:"200"})})}function x(){"black"===document.body.style.backgroundColor?document.body.style.backgroundColor="white":document.body.style.backgroundColor="black"}function g(){n=document.getElementById("map"),c=n.getContext("2d"),y=[];if(c.font="20px Arial",y.length>0){if(window.confirm("Are you sure you want to regenerate the room?")){var e=k(300,1200),t=k(300,1200);console.log(e,t),n.width=e,n.height=t,y=[]}}else e=k(300,1200),t=k(300,1200),n.width=e,n.height=t}function p(){y=[],window.confirm("Are you sure you want to reset?")&&(c.clearRect(0,0,n.width,n.height),n.width=200,n.height=200,y.length=0)}function k(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function b(e){c.fillRect(e.x,e.y,e.w,e.h)}function m(e){c.clearRect(e.x,e.y,e.w,e.h)}function v(){c.clearRect(0,0,n.width,n.height)}function C(e,t){return!(e.x1>=t.x2||t.x1>=e.x2)&&!(e.y1>=t.y2||t.y1>=e.y2)}function j(e,t,l,c,o,a){for(var r=!0;r&&!(++o>20);)for(var i=0;i<a.length;i++){var s={};s.x1=a[i].x,s.y1=a[i].y,s.x2=a[i].x+a[i].w,s.y2=a[i].y+a[i].h;var d={};if(d.x1=l,d.y1=c,d.x2=l+e,d.y2=c+t,C(s,d)){l=k(0,n.width-e),c=k(0,n.height-t),d.x1=l,d.y1=c,d.x2=l+e,d.y2=c+t,r=!0;break}r=!1}return[d,o]}var I,S,D=[],O={},B={};function F(){var e=document.getElementById("map"),t=e.getContext("2d");D=[],t.fillStyle="red",t.clearRect(0,0,e.width,e.height),t.lineWidth=2;for(var l=e.width,n=e.height,c=k(4,10),o=0;o<c;o++){var a=k(30,80),r=k(30,80),i=k(0,l-a),s=k(0,n-r);if(D.length>0){var d=j(a,r,i,s,0,D),u=d[0];if(!(d[1]<=20))break;D.push({w:u.x2-u.x1,h:u.y2-u.y1,x:u.x1,y:u.y1})}else D.push({w:a,h:r,x:i,y:s});t.fillStyle="red",b(D[o])}}function N(){var e=document.getElementById("map"),t=e.getContext("2d"),l=0,n=e.width,c=e.height,o=40,a=40,r=90,i=90;O.w=k(o,r),O.h=k(a,i),O.x=k(0,n-O.w),O.y=k(0,c-O.h);var s=j(O.w,O.h,O.x,O.y,l,D),d=s[0];s[1]<=20?(D.push(O),O.w=d.x2-d.x1,O.h=d.y2-d.y1,O.x=d.x1,O.y=d.y1,t.fillStyle="#0d880d",b(O),t.fillStyle="black",t.fillText("R",O.x+O.w/2-3,O.y+O.h/2+3)):(alert("Can't place robot! Clearing canvas.."),v(),D=[]),o=50,a=50,r=O.w,i=O.h,B.w=k(o,r),B.h=k(a,i),B.x=k(0,n-B.w),B.y=k(0,c-B.h),l=0,d=(s=j(O.w,O.h,O.x,O.y,l,D))[0],s[1]<=20?(B.w=d.x2-d.x1,B.h=d.y2-d.y1,B.x=d.x1,B.y=d.y1,t.fillStyle="#00c600",b(B),t.fillStyle="black",t.fillText("D",B.x+B.w/2-3,B.y+B.h/2+3),D.pop()):(alert("Can't place docking station! Clearing canvas.."),v(),D=[])}function R(e,t){switch(t){case"simple":c.fillStyle="#D7FCD9",e?b(O):m(O),O.x+=O.w,c.fillStyle="#0d880d",b(O);break;case"dock":c.fillStyle="#D7FCD9",e?b(O):m(O),console.log("right"),O.x+=B.x-O.x-O.w,c.fillStyle="#0d880d",b(O);break;case"wall":c.fillStyle="#D7FCD9",e?b(O):m(O),O.x+=n.width-O.x-O.w}}function E(){c.fillStyle="#0d880d",b(O)}function T(e,t){switch(t){case"simple":c.fillStyle="#D7FCD9",e?b(O):m(O),O.x-=O.w,E();break;case"dock":c.fillStyle="#D7FCD9",e?b(O):m(O),console.log("left"),O.x-=O.x-B.x-B.w,E();break;case"wall":c.fillStyle="#D7FCD9",e?b(O):m(O),O.x-=O.x,E()}}function M(e,t){switch(t){case"simple":c.fillStyle="#D7FCD9",e?b(O):m(O),O.y-=O.h,E();break;case"dock":c.fillStyle="#D7FCD9",e?b(O):m(O),O.y-=O.y-B.y,E();break;case"wall":c.fillStyle="#D7FCD9",e?b(O):m(O),O.y-=O.y,E()}}function A(e,t){switch(t){case"simple":c.fillStyle="#D7FCD9",e?b(O):m(O),O.y+=O.h,E();break;case"dock":c.fillStyle="#D7FCD9",e?b(O):m(O),O.y+=B.y+B.h-O.y-O.h,E();break;case"wall":c.fillStyle="#D7FCD9",e?b(O):m(O),O.y+=n.height-O.y-O.h,E()}}function L(e,t){switch(t){case"dock":switch(e){case"right":return O.x+O.w<=B.x;case"left":return O.x-O.w>B.x+B.w;case"up":return O.y-O.h>B.y+B.h;case"down":return O.y+O.h<=B.y;default:return!0}case"wall":switch(e){case"right":return O.x+2*O.w<n.width;case"left":return O.x-O.w>0;case"up":return O.y-O.h>0;case"down":return O.y+O.h<n.height;default:return!0}}}var G,J,W=500;function q(e,t){G=L("right","dock")?setInterval((function(){L("right","dock")?R(e,"simple"):(R(e,"dock"),clearInterval(G),G=L("up","dock")?setInterval((function(){L("up","dock")?M(e,"simple"):(M(e,"dock"),clearInterval(G),"function"==typeof t&&t())}),W):setInterval((function(){L("down","dock")?A(e,"simple"):(A(e,"dock"),clearInterval(G),"function"==typeof t&&t())}),W))}),W):setInterval((function(){L("left","dock")?T(e,"simple"):(T(e,"dock"),clearInterval(G),G=L("up","dock")?setInterval((function(){L("up","dock")?M(e,"simple"):(M(e,"dock"),clearInterval(G),"function"==typeof t&&t())}),W):setInterval((function(){L("down","dock")?A(e,"simple"):(A(e,"dock"),clearInterval(G),"function"==typeof t&&t())}),W))}),W)}function z(e){S=!0,J="MoveToStart",L("left","dock")||(L("down","dock")||L("right","dock")?L("left","wall")?G=setInterval((function(){L("left","wall")?T(S,"simple"):(T(S,"wall"),clearInterval(G),G=setInterval((function(){L("up","wall")?M(S,"simple"):(M(S,"wall"),clearInterval(G),console.log("On start"),"function"==typeof e&&e())}),W))}),W):(T(S,"wall"),G=setInterval((function(){L("up","wall")?M(S,"simple"):(M(S,"wall"),clearInterval(G),console.log("On start"),"function"==typeof e&&e())}),W)):(console.log("escaped"),M(S,"simple"),z(H)))}function H(){S=!0,J="CleaningRight",L("right","dock")&&L("left","dock")&&L("up","dock")&&L("down","dock")&&L("right","wall")&&L("left","wall")&&L("up","wall")&&L("down","wall"),G=setInterval((function(){O.y+O.h<n.height?L("right","wall")?R(S,"simple"):(R(S,"wall"),clearInterval(G),L("down","wall")?A(S,"simple"):A(S,"wall"),J="CleaningLeft",G=setInterval((function(){L("left","wall")?T(S,"simple"):(T(S,"wall"),L("down","wall")?A(S,"simple"):A(S,"wall"),clearInterval(G),H())}),W)):(clearInterval(G),G=setInterval((function(){L("right","wall")?R(S,"simple"):(R(S,"wall"),console.log("Finished cleaning"),c.fillStyle="#00c600",b(B),clearInterval(G),q(!0))}),W))}),W)}function K(){S=!0,J="CleaningLeft",G=setInterval((function(){O.y+O.h<n.height?L("left","wall")?T(S,"simple"):(T(S,"wall"),L("down","wall")?A(S,"simple"):A(S,"wall"),J="CleaningRight",clearInterval(G),G=setInterval((function(){L("right","wall")?R(S,"simple"):(R(S,"wall"),L("down","wall")?A(S,"simple"):A(S,"wall"),clearInterval(G),K())}),W)):(clearInterval(G),c.fillStyle="#00c600",b(B),console.log("Finished cleaning"),q(!0))}),W)}function P(){z(H)}function Q(){console.log(J);var e=document.getElementById("controlBut");switch(I=parseInt(document.getElementById("intervalInput").value),isNaN(I)||(W=I),e.style.backgroundColor="#FC6767",e.style.borderColor="red",e.textContent="\u25a0 Stop Cleaning",J){case"EnterDock":q(P);break;case"MoveToStart":P();break;case"CleaningRight":H();break;case"CleaningLeft":K();break;default:q(P)}}var U=function(e){Object(u.a)(l,e);var t=Object(h.a)(l);function l(e){var n;return Object(s.a)(this,l),(n=t.call(this,e)).state={clicked:0},n}return Object(d.a)(l,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("button",{className:"ModeButton",onClick:x,children:"Dark/Light mode"}),Object(f.jsx)("h1",{className:"mainTitle",children:"RTC Simulation"})]}),Object(f.jsxs)("div",{className:"controlButtonsBlock",children:[Object(f.jsx)("button",{className:"controlButton",onClick:g,children:"Generate room"}),Object(f.jsx)("button",{className:"controlButton",onClick:p,children:"Reset room"}),Object(f.jsx)("button",{className:"controlButton",onClick:F,children:"Generate obstacles"}),Object(f.jsx)("button",{className:"controlButton",onClick:N,children:"Generate RTC and DS"}),Object(f.jsx)("button",{className:"controlButton",onClick:v,children:"Clear canvas"}),Object(f.jsx)("button",{className:"controlButton",id:"controlBut",onClick:function(){0===e.state.clicked?(!function(){var e=document.getElementById("controlBut");I=parseInt(document.getElementById("intervalInput").value),isNaN(I)||(W=I),n.style.backgroundColor="#FEC3C3",q(!1,P),e.style.backgroundColor="#FC6767",e.style.borderColor="red",e.textContent="\u25a0 Stop Cleaning"}(),e.setState({clicked:e.state.clicked+1})):1===e.state.clicked?(!function(){console.log(J);var e=document.getElementById("controlBut");clearInterval(G),e.style.backgroundColor="#FFAE57",e.style.borderColor="#FF8400",e.textContent="\u25b6 Resume Cleaning"}(),e.setState({clicked:e.state.clicked+1})):(Q(),e.setState({clicked:1}))},children:"\u25b6 Start Cleaning"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{style:{color:"orange",position:"absolute",right:"290px",marginTop:"32px"},children:"Interval (default 500): "}),Object(f.jsx)("input",{placeholder:"ms...",id:"intervalInput"})]}),Object(f.jsx)(w,{}),Object(f.jsx)("footer",{children:Object(f.jsx)("p",{className:"footerText",children:"\xa9 Made by Adri9wa, inspired by Anatolii"})})]})}}]),l}(o.Component);i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fc59b59c.chunk.js.map